#!/usr/bin/env ruby

# Script para parar o servidor MCP
if File.exist?(".rails_pids")
  pids = File.read(".rails_pids").split("\n")

  pids.each do |pid|
    begin
      Process.kill("TERM", pid.to_i)
      puts "ğŸ›‘ Servidor MCP parado (PID: #{pid})"
    rescue Errno::ESRCH
      puts "âš ï¸  Processo #{pid} jÃ¡ estava parado"
    end
  end

  File.delete(".rails_pids")
  puts "âœ… Servidor MCP foi parado"
else
  puts "âŒ Nenhum servidor encontrado"
end
