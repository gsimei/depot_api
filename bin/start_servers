#!/usr/bin/env ruby

# Script para inicializar automaticamente o servidor MCP
puts "ðŸš€ Iniciando servidor MCP..."

# Verifica se as gems estÃ£o instaladas
system("bundle check") || system("bundle install")

# Inicia o servidor MCP em background
mcp_pid = spawn("rails-mcp-server --mode http")
puts "ðŸ”Œ Servidor MCP iniciado com rails-mcp-server --mode http (PID: #{mcp_pid})"

# Salva o PID para poder parar depois
File.write(".rails_pids", "#{mcp_pid}")

puts "âœ… Servidor MCP iniciado! Para parar, execute: bin/stop_servers"

# MantÃ©m o script rodando
Process.wait
